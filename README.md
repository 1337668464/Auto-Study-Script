# gds教育网站 (JavaScript自动化脚本)
# 声明一下：本人是一个tampermonkey小白，并不会编写js文档，仅仅是根据我自己的需求编写的一个程序，我全程使用AI进行代码的编写，GEMINI3pro进行
## 📖 项目简介
本项目是一个基于 Tampermonkey (油猴) 的浏览器自动化脚本，用于辅助完成教师继续教育平台的课程学习。
该项目展示了如何通过 JavaScript 操作 DOM、处理 Iframe 跨域、拦截浏览器事件以及模拟人工操作流程。

> **声明**：本项目仅供编程学习与技术研究使用，请勿用于违反平台规定的用途。

## 🛠️ 技术栈
- **语言**：JavaScript (ES6+)
- **环境**：Tampermonkey / Edge浏览器
- **核心技术**：
  - DOM 节点监听与操作
  - Iframe 跨域内容获取 (`contentWindow`)
  - JavaScript 事件劫持 (Hook `alert`, `confirm`)
  - 浏览器后台防冻结机制 (`visibilityState` Mock)
  - 异步逻辑处理与异常自愈机制

## 🚀 迭代历程 (Development Log)

本项目经历了从基础自动播放到全自动智能处理的完整迭代过程：

### V1.0 - V2.0：基础功能
- 实现了视频元素的自动获取、静音与播放。
- 初步尝试解决“弹窗答题”问题，利用 DOM 选择器定位题目。

### V3.0 - V4.0：攻克难点
- **Iframe 穿透**：解决了题目弹窗位于 Iframe 内部无法点击的问题。
- **弹窗拦截**：重写了 `window.alert`，防止答错时浏览器弹窗卡死脚本。
- **双重导航**：实现了“底部按钮”与“侧边栏目录”的双重自动跳转逻辑。

### V5.0：稳定性优化
- **防掉线机制**：引入心跳检测，当视频暂停超过阈值（如60秒）自动刷新页面，防止 Session 过期。
- **后台挂机**：通过 `Object.defineProperty` 欺骗浏览器，实现最小化窗口后的后台运行。

### V6.0 - Final：完美版
- **并行处理架构**：重构了代码逻辑，不再因“检测题目”而阻塞“视频播放”，实现了并行检测。
- **全域搜索**：同时扫描主文档和所有子 Iframe，确保不遗漏任何形式的弹窗。
- **强制启动**：增加了 UI 面板与强制启动按钮，解决浏览器“禁止自动播放”策略。

## 💻 使用说明
1. 安装 Chrome 浏览器及 Tampermonkey 插件。
2. 点击 [这里](gdedu_helper.user.js) 安装脚本。
3. 打开课程页面，脚本将自动运行。

## 📝 学习心得
通过本项目，深入理解了浏览器安全策略（如自动播放限制、跨域限制）以及前端自动化测试的核心逻辑。

---
*Created by [tootony] & AI Assistant*